# O'kanban - API E03 - Atelier API

## Étape 1 - CRUD des Listes

[Spécifications des listes](../resources/api-lists-specifications.md)

Si certaines routes n'ont pas été implémentées en cours, à vous de jouer !

## Étape 2 - CRUD des Cartes

En vous inspirant des spécifications sur les listes, mettre en place les routes suivantes :

| VERB     | PATH               | DESCRIPTION                                                                   |
|----------|--------------------|-------------------------------------------------------------------------------|
| `GET`    | `/cards`           | renvoie toutes les cartes existantes                                          |
| `GET`    | `/cards/:id`       | renvoie les détails de la carte demandée, avec les tags qui lui sont associés |
| `POST`   | `/cards`           | crée une nouvelle carte (sans tag) et la retourne                             |
| `PATCH`  | `/cards/:id`       | modifie une carte (ne modifie pas les tags)                                   |
| `DELETE` | `cards/:id`        | supprime une carte                                                            |
|          |                    |                                                                               |
| `GET`    | `/lists/:id/cards` | renvoie toutes les cartes d'une liste ; chaque carte porte ses tags associés  |

Rappels sur les [status code du protocol HTTP](../resources/http-status-code.md).

## Étape 3 - BONUS - CRUD des Labels

En vous inspirant des spécifications sur les listes, mettre en place les routes suivantes :

| VERB     | PATH                           | DESCRIPTION                                     |
|----------|--------------------------------|-------------------------------------------------|
| `GET`    | `/tags`                        | renvoie tous les labels                         |
| `POST`   | `/tags`                        | crée un nouveau label                           |
| `PATCH`  | `/tags/:id`                    | modifie un label                                |
| `DELETE` | `/tags/:id`                    | supprime un label                               |
|          |                                |                                                 |
| `PUT`    | `/cards/:card_id/tags/:tag_id` | associe un tag à la carte ciblée [^1]           |
| `DELETE` | `/cards/:card_id/tags/:tag_id` | supprime l'association entre le tag et la carte |

> Note : si on appelle plusieurs fois cette route, l'association ne doit être présente qu'une fois en base

**Ces routes ne seront pas corrigées au prochain cours** : vous aurez donc du temps pour les implémenter lors du prochain atelier !

